# “抗 CC 攻击”功能设置

CC（Challenge Collapsar），其前身名为Fatboy攻击，是利用不断对网站发送连接请求致使形成拒绝服务的目的。是DDOS（分布式拒绝服务）的一种，是借助代理服务器生成指向受害主机的合法请求，实现DOS和伪装。模拟多个用户不停的进行访问那些需要大量数据操作，成服务器资源耗尽。

通过“应用防护”中的Web防护（IIS、Apache、Nginx等）进入Web应用设置，打开“网站后台防护”功能。

![](../.gitbook/assets/f0701.png)

![](../.gitbook/assets/f0901.png)

“抗CC攻击”可以有效防御CC攻击，追溯攻击源头；同时减少对服务器资源的损耗和带宽的占用。CC防护策略分三个级别对服务器进行保护，默认为低级别，用户可根据实际情况对防护级别进行调整，级别越高防护越严格。

**低：**“启用浏览器行为验证”时，该IP访问请求数达到触发条件时，自动识别该IP是否真实访客浏览行为，如非真实访客浏览行为则将该IP加入黑名单锁定20分钟；未启用时则访问请求数数达到触发条件即将IP加入黑名单。云锁默认触发条件为单个IP每60秒内最大请求数不超过200次，超过则触发CC防护策略，将访问IP冻结20分钟。且只有低级别时需要验证请求数。

![](../.gitbook/assets/f0902.png)

**中：**每个IP首次访问都会自动识别是否为通过浏览器访问，不再等请求数达到触发值，如非真实访客行为则将该IP加入黑名单锁定20分钟。

![](../.gitbook/assets/f0903.png)

**高：**每个IP首次访问进行手动验证，识别是否真实访客浏览行为，如非真实访客浏览行为则将该IP加入黑名单锁定20分钟。开启高级防护，访问网站需要输入验证码进行验证。

![](../.gitbook/assets/f0904.png)

![](../.gitbook/assets/f0905.png)

针对多站点用户需要对个别站点进行特殊设置的，及一些api接口调用被CC误拦截；可以通过“设置中心”添加网站例外白名单解决；添加到该列表中的网站则不受“抗CC攻击”的保护，可以正常访问。

![](../.gitbook/assets/f0906.png)

同时云锁的CC验证方式兼容使用CDN的情况，在使用CDN时选择“HTTP 200”方式进行验证；而无CDN时，使用“HTTP 302”方式进行验证。除此还可以对提示信息自定义。

![](../.gitbook/assets/f0907.png)

当网站受到攻击后通过防护日志可以看到CC攻击的日志，并可以看到攻击者的IP地址进行溯源。

![](../.gitbook/assets/f0908.png)

在日志中点击攻击IP，可以将IP添加到黑白名单，黑白名单功能详见[“IP黑白名单”功能说明](f23.md)。

![](../.gitbook/assets/f0909.png)
